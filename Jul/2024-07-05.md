## 날짜: 2024-07-05

## 스크럼

- 목표 1 : dev word 스프링 프로젝트 내용 정리
- 목표 2 : Prometheus & Grafana ec2에 연결해서 모니터링

## 공부한 내용

### 주제 1: Prometheus & Grafana ec2에 연결해서 모니터링

[🔗 블로그 글 확인하기](https://velog.io/@jikky/Prometheus%EC%99%80-Grafana%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%B4-ec2-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81%ED%95%98%EA%B8%B0)

## 오늘의 이슈와 해결 방법

### 이슈 1 : t3.micro cpu 크레딧 과금

- 상황
    - 머라카노 eb의 인스턴스를 프리티어가 지원하는 t3.micro를 사용하고 있다.
    
    ![image](https://github.com/jjikky/jikky-til/assets/59151187/f32517c4-df57-4e19-a382-c4f1a6a87e3c)

    
    - 그러던 어느날, CPU credit 과금 발생
- 원인
    - T계열 인스턴스들은 기본 성능을 제공하다가, 유저들이 몰리거나 하는 등 기준 이상의 성능이 필요할 경우 버스트 기능이 동작
        - 인스턴스 사양마다 제공되는 크레딧이 다르고 그 크레딧이 남아있는 동안 버스트 기능을 사용할 수 있다.
    - 무제한 모드라는 것이 존재하는데, 이는 크레딧을 모두 소모하고 난 후에도 기준 이상의 성능을 사용할 때 비용을 추가하여 기준 이상의 성능을 사용할 수 있는 모드
        - **t2 인스턴스는 무제한 모드가 기본으로 꺼져있지만, t3 인스턴스의 경우 무제한 모드가 기본으로 옵션이 켜져있음**
- 해결
    - 인스턴스를 t2.micro로 변경

## 오늘의 작업

### 작업시간

![image](https://github.com/jjikky/jikky-til/assets/59151187/b80bcec4-ade1-483d-acd5-ab74f5ed7f07)


## 오늘의 회고

- 딥다이브를 기회로 들어만보았던 prometheus와 grafana를 이용해서 서버 모니터링을 해보았다. 이론적인 부분을 제대로 알지 못해서 그저 연결을 하고 확인을 하는 정도에서 그쳤지만, 그 과정에서 최근에 배운 docker를 사용하고 linux명령어들을 사용하며 조금씩 익숙해지고 있는 것 같다.
