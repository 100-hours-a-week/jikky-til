## 날짜: 2024-07-07

## 스크럼

- 목표 1 : [머라카노] 검색창 이슈 해결 및 팀원들 이슈 해결

## 오늘의 이슈와 해결 방법

### 이슈 1

- 상황
    - 프론트에서 전체 단어 페이지 무한스크롤 요청에 대한 예외처리가 안되어 있어서 무한요청이 되는 상황이 발생
- 원인
    - 프론트 코드에 예외처리가 되지 않은 코드가 있었음
    - 코드 리뷰를 더 꼼꼼히 할 것….
- 해결
    - 프론트에서 예외처리를 수행
    - 팀원들에게 무한루프 코드 지향할 것 권고
    - 예외처리 확실히 할 것 권고
    - 백엔드에서 `express-rate-limit` 라이브러리를 이용해서 특정 ip의 분당 요청 횟수 제한
        - router 앞에 배치 해서, 제한된 ip의 요청은 컨트롤러로 통하지 않게 차단함
        
        **rateLimit.js**
        
        ```jsx
        exports.commonLimiter = rateLimit({
            windowMs: 60 * 1000, // 1분 간격
            max: 50, // windowMs동안 최대 호출 횟수
            handler(req, res) {
                // 제한 초과 시 콜백 함수
                res.status(this.statusCode).json({
                    code: this.statusCode, // statusCode 기본값은 429
                    message: '1분에 50번만 요청 할 수 있습니다.',
                });
            },
        });
        ```
        
        **사용예시**
        
        ```jsx
        // 라우터 앞에 배치
        app.use(commonLimiter);
        ```
        

## 오늘의 작업

### 작업시간

- 12시간
    - 외부에서 작업하느라 rize 사용을 안해서 사진이 없다ㅜ

## 오늘의 회고

- 프로젝트 처음 시작할 때, 확실한 rule을 설정해서 문서로 만들어두어야겠다
